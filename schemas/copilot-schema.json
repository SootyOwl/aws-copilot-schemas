{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "AWS Copilot manifest schema with discriminator-based validation",
  "type": "object",
  "discriminator": {
    "propertyName": "type"
  },
  "required": ["name", "type"],
  "oneOf": [
    {
      "$ref": "./backend-service.json"
    },
    {
      "$ref": "./lb-web-service.json"
    },
    {
      "$ref": "./rd-web-service.json"
    },
    {
      "$ref": "./scheduled-job.json"
    },
    {
      "$ref": "./static-site.json"
    },
    {
      "$ref": "./worker-service.json"
    },
    {
      "$ref": "./environment.json"
    }
  ]
}